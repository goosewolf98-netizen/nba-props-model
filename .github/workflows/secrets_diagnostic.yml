name: Secrets Diagnostic

on:
  workflow_dispatch:

jobs:
  check:
    runs-on: ubuntu-latest
    steps:
      - name: Check which secrets are present (does not print values)
        shell: bash
        env:
          SPORTSDATAIO_API_KEY: ${{ secrets.SPORTSDATAIO_API_KEY }}
          ODDSAPI_KEY: ${{ secrets.ODDSAPI_KEY }}
          OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
          CBBD_API_KEY: ${{ secrets.CBBD_API_KEY }}
          BAKER_API_KEY: ${{ secrets.BAKER_API_KEY }}
          SPORTRADAR_API_KEY: ${{ secrets.SPORTRADAR_API_KEY }}
          KAGGLE_API_TOKEN: ${{ secrets.KAGGLE_API_TOKEN }}
        run: |
          for k in SPORTSDATAIO_API_KEY ODDSAPI_KEY OPENAI_API_KEY CBBD_API_KEY BAKER_API_KEY SPORTRADAR_API_KEY KAGGLE_API_TOKEN; do
            if [ -z "${!k}" ]; then
              echo "$k: MISSING"
            else
              echo "$k: PRESENT"
            fi
          done
